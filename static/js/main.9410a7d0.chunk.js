(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(23)},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(12),c=a.n(r),s=a(4),l=a(5),i=a(7),u=a(6),d=a(8),p=(a(22),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).focus=function(e){a.setState({isFocused:!0})},a.blur=function(e){a.formRef.current.reset(),e.preventDefault(),a.inputRef.current.blur(),e.relatedTarget!==a.closeRef.current?a.setState({isFocused:!1}):a.closeRef.current.click()},a.handleClose=function(){a.setState({isFocused:!1})},a.state={isFocused:!1},a.inputRef=n.a.createRef(),a.closeRef=n.a.createRef(),a.formRef=n.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{ref:this.formRef},n.a.createElement("input",{type:"text",className:"searchbar",placeholder:"Search",onFocus:this.focus,onBlur:this.blur,ref:this.inputRef}),this.state.isFocused&&n.a.createElement("button",{className:"closeButton",type:"reset",ref:this.closeRef,onClick:this.handleClose}))}}]),t}(o.Component));var m=function(e){return n.a.createElement("div",{className:"navbar"},n.a.createElement("button",{className:"hamburgerButton",onClick:e.toggleSidebar}),n.a.createElement("button",{className:"houseButton"}),n.a.createElement(p,null))},j=n.a.createContext(),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState({projectName:e.target.value})},a.state={projectName:e.initialProjectName},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{autoComplete:"off",className:"edit-project",onSubmit:this.props.onSubmit.bind(null,this.state)},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"edit-name-project"},this.props.labelText),n.a.createElement("input",{required:!0,id:"edit-name-project",value:this.state.projectName,onChange:this.handleInputChange,type:"text",spellCheck:"false"})),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{type:"button",onClick:this.props.onCancel.bind(null,this.state)},this.props.cancelButtonText),n.a.createElement("button",null,this.props.submitButtonText)))}}]),t}(o.Component),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).submitForm=function(e,t){t.preventDefault(),e.projectName.length>0&&(a.context.editProjectName(a.props.project.id,e.projectName),a.context.closeModal())},a.handleDelete=function(e,t){a.context.deleteProject(a.props.project.id),a.context.closeModal()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(h,{labelText:"List Name",cancelButtonText:"Delete",submitButtonText:"Save",onCancel:this.handleDelete,onSubmit:this.submitForm,initialProjectName:this.props.project.name})}}]),t}(o.Component);f.contextType=j;var b=f;var v=function(e){var t=e.className;e.project===e.curentProject&&(t+=" selected-project");var a=function(){e.changeProjectTo(e.project)};return e.project===e.allProjects?n.a.createElement("button",{onClick:a,className:t},e.project.name):n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignSelf:"stretch",alignItems:"center"}},n.a.createElement("button",{onClick:a,className:t},e.project.name),e.project===e.curentProject&&n.a.createElement(j.Consumer,null,function(t){var a=t.showModal;return n.a.createElement("button",{className:"edit-button",onClick:function(){return a(n.a.createElement(b,{project:e.project}))}})}))},C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).ref=n.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"projects-list"+(this.props.isDropdownClosed?" closed":"")},this.props.projects.map(function(t){return n.a.createElement(v,{allProjects:e.props.allProjects,curentProject:e.props.curentProject,changeProjectTo:e.props.changeProjectTo,project:t,className:"project-name",key:t.id})}))}}]),t}(o.Component),O=a(28),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).submitForm=function(e,t){if(t.preventDefault(),a.props.openDropdownIfClosed(),e.projectName.length>0){var o={id:Object(O.a)(),name:e.projectName};a.context.addProject(o),a.context.closeModal()}},a.handleCancel=function(e,t){a.context.closeModal()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(h,{labelText:"Name this list",cancelButtonText:"Cancel",submitButtonText:"Create",onCancel:this.handleCancel,onSubmit:this.submitForm,initialProjectName:""})}}]),t}(o.Component);P.contextType=j;var E=P,g=a(24),k=a(25),w=a(27),N=Object(O.a)(),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState({todoName:e.target.value})},a.handleChangeProject=function(e){a.setState({projectId:e.target.value}),e.target.setCustomValidity("")},a.onSubmit=function(e){e.preventDefault();var t=Object(g.a)(new Date(a.state.dueDate));if(a.state.projectId===N)return a.selectRef.current.setCustomValidity("You have to select a project"),void a.selectRef.current.reportValidity();if(1===Object(k.a)(new Date,t))return a.datePicker.current.setCustomValidity("You must pick a date in the future"),void a.selectRef.current.reportValidity();var o={name:a.state.todoName,projectId:a.state.projectId,dueDate:t,id:Object(O.a)()};a.context.addTodo(o),a.context.closeModal()},a.handleCancel=function(){a.context.closeModal()},a.handleDateChange=function(e){a.setState({dueDate:e.target.value}),e.target.setCustomValidity("")},a.state={todoName:"",projectId:e.curentProject===e.allProjects||null==e.curentProject?N:e.curentProject.id,dueDate:Object(w.a)(new Date,"yyyy-MM-dd")},a.selectRef=n.a.createRef(),a.datePicker=n.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{autoComplete:"off",className:"create-todo-form",onSubmit:this.onSubmit},n.a.createElement("div",{className:"todo-form-input-wrapper"},n.a.createElement("label",{htmlFor:"new-name"},"New Task"),n.a.createElement("input",{required:!0,id:"new-name",spellCheck:"false",placeholder:"I want to...",value:this.state.todoName,onChange:this.handleInputChange}),n.a.createElement("label",{htmlFor:"project-select"},"Project"),n.a.createElement("select",{ref:this.selectRef,name:"project",id:"project-select",value:this.state.projectId,onChange:this.handleChangeProject},n.a.createElement("option",{value:N,disabled:!0},"Select a project"),this.props.projects.map(function(e){return n.a.createElement("option",{value:e.id,key:e.id},e.name)})),n.a.createElement("label",{htmlFor:"due-date-picker"},"Pick due date"),n.a.createElement("input",{value:this.state.dueDate,onChange:this.handleDateChange,required:!0,type:"date",id:"due-date-picker",ref:this.datePicker})),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{onClick:this.handleCancel,type:"button"},"Cancel"),n.a.createElement("button",null,"Create")))}}]),t}(o.Component);y.contextType=j;var S=y,T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleDropdown=function(){a.setState(function(e){return{isDropdownClosed:!e.isDropdownClosed}})},a.openDropdownIfClosed=function(){!0===a.state.isDropdownClosed&&a.setState({isDropdownClosed:!1})},a.addProject=function(){a.context.showModal(n.a.createElement(E,{openDropdownIfClosed:a.openDropdownIfClosed}))},a.handleCreateTodo=function(){a.context.showModal(n.a.createElement(S,{curentProject:a.props.curentProject,projects:a.props.projects,allProjects:a.props.allProjects}))},a.state={isDropdownClosed:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"sidebar"+(this.props.isOpen?"":" sidebar-closed")},n.a.createElement("button",{onClick:this.handleCreateTodo,className:"add-todo"},this.props.isOpen?"+ Create a Task":"+"),this.props.isOpen&&n.a.createElement(n.a.Fragment,null,n.a.createElement(v,{allProjects:this.props.allProjects,changeProjectTo:this.props.changeProjectTo,className:"all-projects",project:this.props.allProjects,curentProject:this.props.curentProject}),n.a.createElement("div",{className:"projects"},n.a.createElement("div",null,"Projects"),n.a.createElement("div",{className:"drop-down "+(this.state.isDropdownClosed?"up":"down"),onClick:this.toggleDropdown}),n.a.createElement("button",{className:"add",onClick:this.addProject})),n.a.createElement(C,{allProjects:this.props.allProjects,isDropdownClosed:this.state.isDropdownClosed,projects:this.props.projects,changeProjectTo:this.props.changeProjectTo,curentProject:this.props.curentProject})))}}]),t}(o.Component);T.contextType=j;var D=T,x=a(29),I=a(26),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).checkButton=function(){a.setState({isChecked:!0})},a.completeTodo=function(e){a.context.deleteTodo(a.props.todo.id)},a.state={isChecked:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getDayFromDate",value:function(e){var t=new Date,a=Object(x.a)(t,{days:1});return Object(I.a)(Object(g.a)(t),Object(g.a)(e))?"due today":Object(I.a)(Object(g.a)(a),Object(g.a)(e))?"due tommorow":"due "+Object(w.a)(e,"dd MMM")}},{key:"render",value:function(){var e=this.getDayFromDate(this.props.todo.dueDate);return n.a.createElement("div",{className:"todo-container"},n.a.createElement("button",{className:"checker"+(this.state.isChecked?" checked":""),onClick:this.checkButton,onTransitionEnd:this.completeTodo}),n.a.createElement("div",null,this.props.todo.name),n.a.createElement("div",{className:"due-date"},e))}}]),t}(o.Component);M.contextType=j;var R=M;var F=function(e){return n.a.createElement("div",{className:"content-wrapper"},n.a.createElement("div",{className:"todo-list-container"},e.todos.filter(function(t){return e.curentProject===e.allProjects||t.projectId===e.curentProject.id}).map(function(e){return n.a.createElement(R,{todo:e,key:e.id})})))},B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){t.target===a.wrapperRef.current&&e()},a.wrapperRef=n.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.props.modalInfo.isModalShowing&&n.a.createElement(j.Consumer,null,function(t){return n.a.createElement("div",{className:"modal-wrapper",onClick:e.handleClick.bind(null,t.closeModal),ref:e.wrapperRef},e.props.modalInfo.modalElement)}))}}]),t}(o.Component),V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).allProjects={name:"All Projects",id:Object(O.a)()},a.toggleSidebar=function(){a.setState(function(e){return{isSidebarOpen:!e.isSidebarOpen}})},a.editProjectName=function(e,t){for(var o=a.state.projects,n=0;n<o.length;n++)if(o[n].id===e){o[n].name=t;break}a.setState({projects:o})},a.addProject=function(e){var t=a.state.projects.concat(e);a.setState({projects:t})},a.deleteProject=function(e){var t=a.state.projects.filter(function(t){return t.id!==e}),o=a.state.todos.filter(function(t){return t.projectId!=e});a.setState({projects:t,todos:o})},a.changeProjectTo=function(e){a.setState({curentProject:e})},a.showModal=function(e){a.setState({modalInfo:{isModalShowing:!0,modalElement:e}})},a.closeModal=function(e){a.setState({modalInfo:{isModalShowing:!1,modalElement:null}})},a.deleteTodo=function(e){var t=a.state.todos.filter(function(t){return t.id!==e});a.setState({todos:t})},a.addTodo=function(e){var t=a.state.todos.concat(e).slice().sort(function(e,t){return Object(k.a)(e.dueDate,t.dueDate)});a.setState({todos:t})},a.state={isSidebarOpen:!0,todos:[],projects:[{name:"Work",id:Object(O.a)()},{name:"House Tasks",id:Object(O.a)()}],curentProject:a.allProjects,modalInfo:{isModalShowing:!1,modalElement:null}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(j.Provider,{value:{showModal:this.showModal,closeModal:this.closeModal,editProjectName:this.editProjectName,deleteProject:this.deleteProject,addProject:this.addProject,deleteTodo:this.deleteTodo,addTodo:this.addTodo}},n.a.createElement("div",{className:"screen-container"},n.a.createElement(m,{toggleSidebar:this.toggleSidebar}),n.a.createElement(D,{changeProjectTo:this.changeProjectTo,isOpen:this.state.isSidebarOpen,projects:this.state.projects,allProjects:this.allProjects,curentProject:this.state.curentProject}),n.a.createElement(F,{todos:this.state.todos,curentProject:this.state.curentProject,allProjects:this.allProjects})),n.a.createElement(B,{modalInfo:this.state.modalInfo}))}}]),t}(o.Component);c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V,null)))}},[[13,1,2]]]);
//# sourceMappingURL=main.9410a7d0.chunk.js.map